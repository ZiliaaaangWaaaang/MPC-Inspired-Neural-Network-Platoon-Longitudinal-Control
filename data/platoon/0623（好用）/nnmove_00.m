function [Y,Xf,Af] = nnmove_00(X,~,~)
%NNMOVE_00 neural network simulation function.
%
% Auto-generated by MATLAB, 07-May-2024 19:03:44.
% 
% [Y] = nnmove_00(X,~,~) takes these arguments:
% 
%   X = 1xTS cell, 1 inputs over TS timesteps
%   Each X{1,ts} = 3xQ matrix, input #1 at timestep ts.
% 
% and returns:
%   Y = 1xTS cell of 1 outputs over TS timesteps.
%   Each Y{1,ts} = 1xQ matrix, output #1 at timestep ts.
% 
% where Q is number of samples (or series) and TS is the number of timesteps.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [-19.0505965768031;-6.85918092085871;-1.99763696099884];
x1_step1.gain = [0.0522252737181727;0.148213484472979;0.500572177293996];
x1_step1.ymin = -1;

% Layer 1
b1 = [3.8001846632328684095;-3.4001652249978291387;-3.0001457867627907561;-2.6001263485277519294;2.2001069102927135468;1.8000874720576744981;1.4000680338226356714;1.0000485955875968447;-0.60002915735255812901;-0.20000971911751938559;0.20000971911751938559;0.60002915735255812901;-1.0000485955875968447;1.4000680338226356714;-1.8000874720576744981;2.2001069102927135468;2.6001263485277519294;-3.0001457867627907561;3.4001652249978291387;3.8001846632328684095];
IW1_1 = [-2.0085170034114199211 -2.7845010878779361541 -1.6290539012826150689;2.5587718364830722706 -0.95688638480822174603 2.6416772342699257337;2.8284986346687777115 2.4671498012704757841 -0.59512251380553937707;2.3928926122388149977 -2.6522841053471921668 -1.2964788642649962558;-2.3111613546102942607 -2.3238147568042544222 1.9234920440919436313;-1.3183962384407827972 -0.73793979980272961239 -3.4869298365471323997;-1.1773496417303208617 3.2766810507526868967 -1.5226991125715094721;-1.9944164285403049863 3.0113885621259854908 -1.1812051101039291456;1.4933050084753995979 2.1705599275849123408 -2.7386334597925250378;1.699337340303741728 -0.8626644055536742961 3.2877752663329111726;3.115702118183734548 -1.698438016657269678 1.3598206091205622403;2.6538117230722302331 -0.027777629500695073805 2.7199108839177128516;-0.57843291565046850433 2.6738183201006369138 -2.6377100727442761574;0.022645104192936822002 3.7799117731537230647 0.39135362666043677082;-1.2957242020570451935 2.1191463786586375306 -2.8760599598568754587;1.1928404836865276195 -1.6407074220340529536 3.2135049728343614284;2.1192881254603839203 -2.5956147584127919892 1.792430010310758659;-0.71724196617565749712 -3.3014981196466903768 1.7398498793275676277;2.5368522902896994964 2.1484989785841750454 1.8411235892641681922;3.2924363540468672973 1.8715833484676389631 0.31375483894202732538];

% Layer 2
b2 = [-1.5708258360227485007;-1.2217534280176931549;0.87268102001263814227;-0.52360861200758279654;-0.1745362040025275896;-0.1745362040025275896;0.52360861200758279654;0.87268102001263814227;1.2217534280176931549;1.5708258360227485007];
LW2_1 = [0.19227596341434119442 -0.050296176036881926064 0.35196543700887616968 -0.49300506458763759809 0.036827505340082479501 -0.2760483646305757488 -0.040746117685913602058 -0.39041073002588877472 -0.21238599787560405452 0.38103724470147398717 0.389288555061162167 -0.44725614980807470999 0.003904724919731963808 0.4955768958336453367 -0.26565348719883297157 0.56477245467128300849 -0.13910443607119052367 -0.5469457733958525969 0.577819361216112104 -0.0036691698704283404187;0.42193347816146703488 -0.60143009565920779735 0.37567835082076406206 0.018690547472872329898 -0.019087288945089205677 -0.48996298424552958695 -0.14974492112525064624 -0.19673446912580511148 0.49918748428188347566 -0.12628046698321052088 -0.27292718725647568956 0.36628406330990759265 0.10844782789329630857 0.33875606997378748808 -0.30861527559269291698 -0.15517521512005322259 0.27556242616661241751 -0.49205891956100977769 -0.62244570120830533533 -0.24410119753249950869;-0.3297575907599964995 -0.27743969538160118127 0.093743808949127982455 -0.18260106047364665915 0.34720721232369672338 0.45349296664178084804 -0.44719406469923184133 0.41147409178985216993 0.044528304533305723689 0.039644716078777009205 0.52442334831945891516 0.35696774777420409164 0.18747778328268965842 0.61491124650670525575 0.26602077805723778336 -0.53566733017270162787 0.098714539857051059046 -0.24022823279261412699 0.1694886140666707619 -0.5205733124742779605;0.23924205126874886762 -0.39883732275433625425 0.53084138401654801243 -0.49613080781629947946 -0.32272718524592863831 0.29174339019626588376 0.080031584614295034341 -0.17341402771688749218 -0.13246831298815547884 -0.21074936808554070589 -0.50914278458087869339 0.44244915848083615773 -0.078555576610928629089 0.38324209647795381972 -0.32611197249629408912 -0.41144557427180261655 -0.47768248608587515758 -0.22085210814633562948 -0.024515505917123980861 0.523748982453413503;0.31734955020982391627 -0.47049990463869706403 -0.14234815391251895433 -0.26066989568931758781 0.21867961105938976685 0.38867246978030706162 -0.4667306334343919727 0.36869020468660840262 0.22582799571495063007 0.51571885192600686043 0.055065827170674999658 -0.27116558611403934753 -0.55788543420961078656 -0.31535445819064317208 -0.45157050788014185816 -0.37050950659974901669 -0.3127932019324650148 0.21763113382876192459 -0.11837714462987315722 -0.44712751178117504658;-0.23758075591804939108 -0.103230506947319986 -0.026446904261161852806 0.35749524145191746705 -0.23200512635815917495 0.36457093812339547156 0.4420145742698951552 -0.13586337958323801978 0.32288990501764192054 -0.15894018167093582061 -0.48499698833074245119 -0.53268285482587307555 -0.25288240049371646379 0.45564668646573297517 -0.43277088627861398651 0.36997233359401893171 0.39946043797107821938 0.54077672413578681265 0.16433875437287806531 -0.38480435485453712285;0.4263667246823327206 0.10487097802573018546 -0.33319914904929198718 -0.5359881890678681593 -0.44508833361663890926 -0.082198099798805074334 0.57600515457710255163 -0.47422134407148791579 0.34416305161458360384 0.017979656919593373782 0.19298874804409149597 -0.10519744860548196908 -0.52421575264785658099 0.23902973615061492985 0.31569253339322889129 0.55636306398348467361 -0.30127305444925567279 0.23841827035545232194 -0.12987314149827328125 0.20537019997809496941;0.1130029998990733503 0.051050352715067269516 0.5893522250827440967 -0.26928503472572340449 0.26469847487427783372 -0.064410636177216096243 -0.23378109161500093549 -0.3962393897409426935 -0.49818196971828176967 0.19610436208980966399 -0.051659353190431890612 0.49990276654461768269 0.20257998688106237939 -0.18316662331081148829 0.51806695622027976178 0.55220108984664517671 -0.15968066731193580887 0.20683928147245739249 -0.59776071561068144788 -0.36561487217927829407;0.55544640698893188446 -0.51455043650898546481 -0.45884532501275954175 0.070900332758079012696 0.11675324956038252155 0.10333965493095077781 -0.015051271539726747417 0.42103660824503574833 0.37064314543393428458 -0.18695590999143738009 -0.0088673119787837980516 0.42474490128030395475 0.6098425190821662456 0.0079159206289122121397 0.61687543013409418258 -0.27903522021007920451 -0.45936241607377031881 0.10392934270837025923 -0.26759230173157894095 0.015273549958439783247;0.52409329509355950805 0.096986717039186126632 0.50591723921356179794 0.17119374401307049793 0.3859842871093887573 -0.24583143217637862254 -0.30331853094490601741 0.50487826730282792109 0.41418824706831786076 0.32674503361374712673 0.17981664598760521701 0.35771782195304790974 0.46241236022515458393 -0.28708073476705575633 0.10663168511039770869 0.31256591999350036293 -0.47912412403961146534 0.43464654227835142208 -0.17959029156649092274 -0.21721896586398345419];

% Layer 3
b3 = [1.8889959867429886309;1.690154303927936974;-1.4913126211128857612;1.2924709382978341043;1.0936292554827828916;-0.89478757266773145673;0.6959458898526800219;0.49710420703762858707;-0.29826252422257715224;0.099420841407525717415;-0.099420841407525717415;-0.29826252422257715224;-0.49710420703762858707;-0.6959458898526800219;-0.89478757266773145673;1.0936292554827828916;1.2924709382978341043;1.4913126211128857612;-1.690154303927936974;1.8889959867429886309];
LW3_2 = [-0.29418717300015601035 -0.61444257175782512892 -0.54585402775973090872 0.090730372129530306724 0.87278983204126547868 0.69551619945020048963 0.76795316014384074066 -0.70831638097704308077 0.2665085330152341947 -0.6245283233121685651;-0.47924816144475163027 -0.51213805457892902506 -0.59469134624970643177 -0.35083339521769874025 0.78465513778673579015 0.39193616841931760986 0.83094605273672283996 0.30420301291720519554 0.90772849962984447636 0.47256776465767885709;0.78935052533319627344 -0.78712248854520228125 -0.95410000267122485607 0.1588208786720900767 -0.3895187143572356181 -0.26466421139228435422 0.40351434898473576007 0.69582864151565060329 -0.29298674582775424691 0.65994268877462713974;-0.10411278951643659907 -0.21611238360470699793 -0.35952693107506245029 0.74573716967676428879 0.3216972830550453577 0.97230545340527019249 0.95296654112224543631 -0.30340658574386653035 0.38209239516015408578 0.79392433038675414014;-0.46502306955178979164 -0.76799962554166023576 0.66246490891209341978 -0.25825720869390467183 0.75407340223960650505 0.65966861598318315973 0.12446498909877447281 -0.71649726613138209341 0.66829980832182800388 0.52669302058681666256;1.1607290992712575584 -0.48787361575269522218 -0.26580923379139292928 0.63347925232516388849 0.71463757556797691262 0.15413232363976417383 0.21344931988311294235 0.64644754721609243298 -0.29976774757344382127 0.6505868394330125426;-0.11713863685945759274 0.23364987345962268117 0.34573368707811658052 0.0024523922523425906866 0.62394760874139021389 0.88133210273661932721 0.61902541000801858395 0.87609592791940482659 -0.80707101100906941671 0.64210378754351660202;-0.24342484528280444733 -0.52550209323805674444 0.50093506448689395505 -0.34032172856767861635 -0.97619728740490419039 -0.34668832374447466904 -1.0004840645377495179 0.36451966386015532962 0.45208112645908310467 -0.67436539314539467593;0.15410277356454879505 0.7786747331183601073 0.64377125729926132358 -1.1142688542163023957 -0.32329568397567715055 0.042407288879343578436 -0.031432962091179704467 -0.61561735786433535722 -0.82134956873477238393 0.34825417156843174737;-0.80881080684364758948 -0.46707265688711835372 -0.48703680143369260103 -0.54165624283652880067 0.66947992675222300907 -0.41298865600124995412 0.23881506506578248361 -0.64687942853175040003 0.70770619046163218968 -0.75516953977922807173;-0.44030693019702465962 0.24534592546899675058 0.47308937260469524633 -0.5543969564386419524 -0.40455930978564474954 0.7255133955835699755 -1.0217289068660286855 1.0241668555052305667 -0.0052831946604507962206 -0.01256744743519205669;-0.64686680069021362804 0.74088953541011270953 0.76713402808731112614 -0.53365325933354579302 -0.049093725093063027287 0.10302687025639027663 0.27047254747823556986 0.77848963963198125615 -0.56786244994464940561 0.84437991942001677792;-0.68954121275031998728 -0.61798669560542474066 0.90207011704599149304 -0.60943280221143103503 0.17007110230198879686 0.018033885058469100587 0.2565710386743814686 -0.58400962734820627276 -0.84888797644006930287 0.60748351525873101053;-0.56767320051369551948 0.33502443934659503766 0.004699443605927443833 0.78646835255339375692 -0.76331566616927382096 0.095967058137286564978 -1.0258429315001145188 -0.24811849437726665735 0.46205946669865199938 -0.77199812529454958643;-0.9169687476850243435 0.56409724848046494117 0.088297129864485124351 0.52209555053612333175 0.3395496285041267881 0.80050003917842460499 -0.466661193020742604 0.83049925698901561066 0.39853192942694898315 -0.55359249839512314484;0.20620245312856988473 -0.83695534862855835989 -0.37178916888947277641 0.69415526570010954721 -0.56742131904675352505 0.43206078865640162867 0.93194723314372818201 -0.47108336529459582387 -0.036029940202019376805 -0.77770598187140638213;0.51332147076290635113 0.81284878189355291855 -0.81166741004148335037 0.22873564816383692988 0.43941439898702677747 0.088301670084107941605 -0.71029715510322544159 0.24906530756236133772 -1.0618845087055848175 -0.19473904926893534362;0.52007530961659365065 0.28511908981543715447 0.62612312277576698261 0.62869143903304747223 0.44077595051028961581 -0.8376963160056267732 -0.48169369547121754227 0.76286390470772735828 -0.49929746959016174657 0.68552523775116447347;-0.81132780627864586886 -0.087622435061404588263 -0.67879383618330979555 0.55005889917864647654 -0.79128483105974956047 -0.65058800114842307849 0.79771747953198623993 -0.50069414774604459328 0.43964392338716706821 -0.096532148765102770982;0.8136768918673392692 -0.27349007258821672606 -1.0233626078230670942 -0.11426704860047423584 0.98817815044666745816 0.37946280091051970418 0.40281304600225065204 0.42283397438737480023 -0.44755204015811661522 0.33056485810056074337];

% Layer 4
b4 = 0.43342250471979903992;
LW4_3 = [0.97805659953363854875 0.52421268731324732748 0.59568200719395880682 -0.90751024069257502092 0.30434345349756486421 -0.34346342325995560252 0.54493105339053204972 0.98874950951070506022 0.52731450590890971419 -0.012054214469273905053 0.75406018668943985972 0.89924066962430315719 0.98373059078294988744 0.28180557879778334041 -0.95676340549841776273 0.74084860795515994347 -0.037808368264368175105 0.46988063330014639973 0.77056393297099146089 0.70616724773757688638];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = 0.499999999999931;
y1_step1.xoffset = -2.00000000000028;

% ===== SIMULATION ========

% Format Input Arguments
isCellX = iscell(X);
if ~isCellX
  X = {X};
end

% Dimensions
TS = size(X,2); % timesteps
if ~isempty(X)
  Q = size(X{1},2); % samples/series
else
  Q = 0;
end

% Allocate Outputs
Y = cell(1,TS);

% Time loop
for ts=1:TS

    % Input 1
    Xp1 = mapminmax_apply(X{1,ts},x1_step1);
    
    % Layer 1
    a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*Xp1);
    
    % Layer 2
    a2 = tansig_apply(repmat(b2,1,Q) + LW2_1*a1);
    
    % Layer 3
    a3 = tansig_apply(repmat(b3,1,Q) + LW3_2*a2);
    
    % Layer 4
    a4 = repmat(b4,1,Q) + LW4_3*a3;
    
    % Output 1
    Y{1,ts} = mapminmax_reverse(a4,y1_step1);
end

% Final Delay States
Xf = cell(1,0);
Af = cell(4,0);

% Format Output Arguments
if ~isCellX
  Y = cell2mat(Y);
end
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
  y = bsxfun(@minus,x,settings.xoffset);
  y = bsxfun(@times,y,settings.gain);
  y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
  x = bsxfun(@minus,y,settings.ymin);
  x = bsxfun(@rdivide,x,settings.gain);
  x = bsxfun(@plus,x,settings.xoffset);
end
