function [Y,Xf,Af] = nnmove_00(X,~,~)
%NNMOVE_00 neural network simulation function.
%
% Auto-generated by MATLAB, 09-Jul-2024 21:22:55.
% 
% [Y] = nnmove_00(X,~,~) takes these arguments:
% 
%   X = 1xTS cell, 1 inputs over TS timesteps
%   Each X{1,ts} = 3xQ matrix, input #1 at timestep ts.
% 
% and returns:
%   Y = 1xTS cell of 1 outputs over TS timesteps.
%   Each Y{1,ts} = 1xQ matrix, output #1 at timestep ts.
% 
% where Q is number of samples (or series) and TS is the number of timesteps.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [-9.8820989364874;-4.17631009264064;-1.99999468395731];
x1_step1.gain = [0.10151410520026;0.238096945954224;0.50000722551666];
x1_step1.ymin = -1;

% Layer 1
b1 = [3.8001846632328684095;-3.4001652249978291387;-3.0001457867627907561;-2.6001263485277519294;2.2001069102927135468;-1.8000874720576744981;-1.4000680338226356714;1.0000485955875968447;-0.60002915735255812901;0.20000971911751938559;0.20000971911751938559;-0.60002915735255812901;1.0000485955875968447;1.4000680338226356714;1.8000874720576744981;-2.2001069102927135468;-2.6001263485277519294;-3.0001457867627907561;-3.4001652249978291387;3.8001846632328684095];
IW1_1 = [-0.91791779136767592817 2.4152721245539510164 -2.7866271669015287848;1.3355122733775290911 1.2298503550728840938 -3.3384545146602482291;2.0340676417771796913 -3.0463440724493784373 1.0118103061334506876;2.3479715612257283652 2.3093138080007031832 1.8961810985564688803;-1.9109235934820718583 1.3761099021258067499 2.9826323997125721021;2.3174992384115684629 -0.79043985212944611884 2.9061668215705873664;3.6213129765614207045 0.92768635086083572894 0.68329630094467863621;-0.37229687137926031903 -1.4965922088024872227 3.4731844573508063867;3.7519895622088337284 0.57049297643078933362 -0.19625382439435160031;-1.7451651104685337312 2.6025854939146624289 2.1499653389621498079;3.1544939093688721954 -0.64219287901990151912 2.0194454576841454063;-2.7019701164778204827 0.42116432966621897283 -2.6388220045596000318;2.042844803290257083 1.6740751063156431577 -2.7323362023650319408;2.1504197292622238002 -0.69380621856633994948 3.0554429128603870502;1.4758717576125648385 2.5557749862814738151 -2.3939967103673809312;-0.93212936431010662286 1.8884197951547652128 3.1632908497526401881;-2.6418576421675754595 -2.6408327935658246766 -0.69856555141118292784;-2.9919022635335932314 -0.37597418134325838457 -2.3126970694615702762;-3.2617434460162186838 1.0353188102277577354 1.6524370270086337076;0.72231815709566404848 -2.5826591744127700423 2.6924954119592814372];

% Layer 2
b2 = [1.5708258360227485007;1.2217534280176931549;0.87268102001263814227;0.52360861200758279654;0.1745362040025275896;0.1745362040025275896;-0.52360861200758279654;-0.87268102001263814227;-1.2217534280176931549;-1.5708258360227485007];
LW2_1 = [-0.57977468226380668437 0.35713259495179283665 0.095091400799479794403 0.073260486926032972188 -0.29417288744196840033 -0.50446456463356859068 -0.052137462484646367178 0.22463069831397741716 0.51780825487768022963 0.4992696964409415461 0.545949989396766866 -0.4135199032234458949 0.24373984618312566353 -0.36967781981462782825 -0.38154620080974777085 0.32000297504518165903 0.11348755048646012866 0.2104263244244860831 -0.31401022754721902297 -0.094527748887605983485;-0.062478642109157413176 0.3623812989984161459 0.1560104913741290622 -0.10002706144863815485 0.16791867620493108881 -0.040605732856131691866 -0.53024083237858299356 0.50145927395804512638 0.10480287879686561725 -0.42012066794083863241 0.074257726146053928962 0.43524703802112180151 -0.47599128754294761645 -0.45600555844617851609 0.12466856042468138499 0.42907507763889718433 0.50108433224299275821 -0.26350531404712485006 0.33271558388398908557 -0.53632751586099836061;-0.34945388991229908715 -0.28959267607118788224 -0.074501999245823499751 -0.45105014468445525644 -0.25180553937676314336 -0.4964614446013578819 0.45175305755040556788 0.40136379191487492335 -0.28648387193281010799 -0.11175765957870485712 -0.39447096897071487476 -0.32317141627516737801 0.03940793327219259401 -0.40881039961329473931 0.087771417880812385715 0.45990391542352831999 0.44823961478340762499 0.2832570840773236398 -0.38561590255485972412 0.45288427482448473382;-0.27086237962034326321 -0.095440205654783477618 0.34424204567813548872 0.27717937380127499747 0.58841053378880558977 0.0049581643682341100185 0.63347683714690261603 0.43401159952124157559 -0.19900345675561775804 -0.44786096173567208067 0.095440521267868269617 -0.18714519864428202922 0.026016064190135131801 0.17566193522249637371 -0.59873351448239398032 0.31640426798766002614 -0.05363395441949921072 0.20548157301500144523 0.61418161541810323278 -0.23878282958074431575;-0.15207398594552404281 0.47685052094335805828 -0.41884750950644172862 0.42878826286719590177 0.232798534490559067 0.21577398292120555934 -0.11360828903077006824 0.32891297518250312004 0.0096993186453838628469 0.24890994746771280544 -0.015880831182541792213 -0.49829145340189895386 0.49790199558430126014 -0.36433102591343946575 0.52297094546484390598 0.3875315219321333049 -0.03582227658609719867 -0.47678760006922277226 -0.024532430015189649053 0.54010465175360633516;0.29990063038031927745 0.24908433500559631901 0.5142312506574487907 0.3137738936573212789 -0.16892039051873489197 0.33470891938410873845 -0.54943051401767839526 0.065445149544937880615 0.32156010125691236734 0.56448898494329724507 -0.55239400377318936819 -0.40410915140112246835 -0.37044328238732915359 0.17076117261036058426 0.095611513503774128719 0.016867163752128839366 -0.37999611408346950503 0.51743537551210261327 -0.065374071341511935662 0.15226804222352369189;-0.032594735890634954356 -0.486626554132525313 -0.49421287490687970667 0.10467212616366633471 -0.26310417049324341665 0.2719745537972389493 0.44544331375369666803 0.30178513869739420628 -0.41876615929225213808 -0.57750442984964733828 -0.043328596042585029724 -0.32235426289171914549 0.04127670553326456826 -0.51297020878769683527 0.15248708311758871203 0.19061507668333207977 -0.38789755304300921335 0.56037403384307671317 -0.30615370445813122613 -0.21077715443628197711;-0.046357370401113477676 0.49244648780564886925 -0.36968368745314761359 -0.30741395679005006913 -0.55612969523419619744 0.1746970122439848172 -0.20886261789587501347 0.47228563178211624418 0.049611937227570609976 0.45876349015940587339 0.03188459072211279749 0.34941109680931803361 0.38479255638784892746 0.50837236286544174035 -0.26080080093330521018 -0.32851036115375475966 0.3760230293466285123 -0.29684179001135635456 0.29756711928030382674 -0.38557337045612050108;-0.36271028629872575921 -0.18752435800285641165 -0.16887932660103169291 0.20545374771288887894 0.44361290164100242173 0.73453114307593669885 0.55065635859729777923 -0.14704236283968924459 -0.1776397748183817793 -0.24224710768745652545 0.022394969505125546239 -0.033098718997946682818 0.26303886148482108487 -0.13673455376257792615 -0.27224202138500452897 -0.40765020130404916454 -0.55110783218577330533 -0.36248332477249134431 0.29941132020542565728 0.47337931332420407626;-0.4008310027224264438 -0.37572105607710004627 0.19060057249394779522 -0.5056859043769175166 0.57983444989499910438 -0.29969082268297647653 0.42359651553698968174 -0.49418455832067392786 -0.40843823097453457738 0.43523161564104317911 0.48056527193528064679 4.1414297297093891786e-05 0.045879835670212601451 0.14772152575235322769 -0.029242003288583569287 0.16600299930553349959 0.38667624070076439535 0.14955836897647425965 0.013996463131137695107 0.46079070649181746999];

% Layer 3
b3 = [-1.8889959867429886309;1.690154303927936974;1.4913126211128857612;-1.2924709382978341043;-1.0936292554827828916;-0.89478757266773145673;0.6959458898526800219;0.49710420703762858707;-0.29826252422257715224;-0.099420841407525717415;0.099420841407525717415;0.29826252422257715224;0.49710420703762858707;-0.6959458898526800219;-0.89478757266773145673;1.0936292554827828916;1.2924709382978341043;-1.4913126211128857612;-1.690154303927936974;-1.8889959867429886309];
LW3_2 = [0.20309122823416567161 -0.22302348872515651013 -0.52047697480462096209 -0.40868850298954967348 -0.51074288194788453055 -0.10804719834404000189 0.79666666158535315301 -0.81080782903221404467 -0.98472124137674788003 -0.71070544080809716636;-0.54054032625680792368 -0.72702409637251463881 0.78975047653986318874 -0.50201918807816237056 -0.85998185526193715589 -0.1412352340315985999 0.63332275611629973433 -0.44679679314694176195 -0.47292913065577696363 -0.53658703246141037368;-0.62203990172108347689 0.51377421317197202733 1.0802063229350322704 -0.23467873263720709365 -0.58804582206449707016 0.22557741276774467831 -0.16442525788217349225 1.1038836432963099465 0.22760969398346084236 0.037476054433952132872;0.092871682024900273356 0.32534875763715020991 0.57058393097445514464 0.70881096494644435513 -0.91842713005606024801 -0.36209070369666906952 1.0724456635074395283 -0.47312930968876071303 0.49837746794061466016 0.16988423075271050222;0.83593269322956464951 0.54433965014254004355 0.60291833188793575449 0.29827803700207777826 0.60634873185697413245 -0.13325015212660734631 0.57060175103168730981 -0.68725846973586623978 0.88724359918272588388 0.38756968258402568761;0.22909603521245130997 -0.64252008716088027107 0.15371509766380192508 -0.26369586160193636548 0.96440991970798350952 -0.90627541788385046484 -0.3166713613027942742 -1.0185836007510515877 -0.081317165082019166045 -0.33763520711415900832;-0.69469754480295797805 -0.49812153660040764391 -1.0244880424642153205 -0.33645859375362552335 0.40253060755085068312 -0.67746700687381189443 -0.33239335575095252384 0.54304283713094914088 -0.70677040287747894265 -0.38587336754414502948;-0.11128202496792735654 -0.86371824916887018908 -0.12893510651847259196 -0.54481415517131370763 -0.77237092783722671729 0.93415957020659023957 0.043061055859188755723 -0.47404347865885870794 -0.30744504223920926522 0.84033405772346592144;0.88555004808371085012 0.1090773325686186096 0.35050678095120652022 0.6300122330764537093 1.0487378466018819623 0.14228041065834889922 0.54790398319738153887 -0.033375054531341638575 0.83154348018376522678 -0.37358620667002306881;0.5940973878210457082 0.055805774760641385646 0.57462685392202594858 -0.85236420550939961949 0.81943164364655574072 -0.065009820389700767596 0.48241606299927675128 0.81147193940986206417 -0.63327553648523338126 -0.43309897296150928758;0.4277346271021342794 -0.48449256653101413495 -0.68966880370975813808 -0.8958930103911200149 -0.23854025390690944408 -0.26253305059041670555 1.0831981005273338958 0.081686476612999173175 0.57705017661229662806 0.48326573191667232532;0.74538125810867694732 0.035764191717198801079 -0.18356197807659396792 -0.50248752471281488141 0.73662605109249146285 0.22526807696673517567 -1.0381923914405459808 -0.8150301437265935478 0.57088250451251543183 0.25269897479003033958;0.32082334655793309786 0.84218157846385732768 1.1731374957534825842 0.28342049333543789524 0.15815144075319415018 -0.067644530570801331137 0.83854578486225850309 0.49473145286323372272 -0.15574321107090546845 -0.54568103765826159179;-0.25042993157723614228 0.66676442906168242875 -0.81462451320556616974 -0.81717844429963837349 -0.71810357076795039433 0.36788265922837720678 0.42681208538965692556 -0.33875197052496552885 -0.76274057380825921459 0.44712095688170727659;-0.48652996372213269671 0.96806769810656989605 -0.19728470073591694578 -0.97517937823309308598 0.085569201183687992884 0.40057757154854195525 0.92422600833764612105 -0.27918884771716523385 -0.25161876092336993294 0.49122976731243783721;0.75648335053972359798 0.67424946743274116745 0.52513789859614856681 -0.11590539483323779313 0.63426870167413762491 0.31453243410763120913 -0.043853747126232689446 -0.52307488667412727068 -0.87198344063397192905 -0.84564148070293887471;0.54817929549371824383 -0.25041073155792603622 0.12428653371532222272 1.2178545841819654605 0.12036836981080273334 0.58194976558311828363 0.35611147102751744553 -0.25786274968655231721 1.0651766825666657557 -0.159432794924942417;-0.66058157555843788344 -0.76988155031015326202 0.41332574506905073175 -0.12082282088526612174 -0.1243629655544114393 -0.70706797174397606476 -0.28681462729626988617 0.8938707259699066876 0.56156812086045415633 0.80109073734558200464;-0.61109350812611407111 0.91102368058362270808 0.10281881763810978014 -0.63942888846365009137 0.87487681240307113573 -0.41562699903531247214 -0.15831027426824534343 0.87132971235247091979 0.17482207676848038336 0.43871379589695808088;-0.63913387386131936818 0.83539160505272391788 0.64293765737608199462 -0.69495257295071310999 0.87324088693871693145 -0.32681409743658984546 0.56151220788335354239 0.13667221628287409829 0.25300789635094250718 -0.54613307414224820935];

% Layer 4
b4 = 0.43268165706155192751;
LW4_3 = [0.97997235450469033502 0.25642821681897975949 0.73599536010984056844 -0.70241359350473109302 0.38997869369807469653 0.17819811004529073628 -0.69161025129122521982 0.071555463748072423158 -0.6125655346660456857 0.48155777312182634908 -0.4179328355901561487 0.91642082944985858717 0.62520539632304861222 -0.55317091505448234834 -0.59235577498287983467 0.87869953737482808798 -0.89822508237405096487 0.62740255095051655765 -0.97643716049573248128 -0.82854347495253222178];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = 0.499999999999991;
y1_step1.xoffset = -2.00000000000004;

% ===== SIMULATION ========

% Format Input Arguments
isCellX = iscell(X);
if ~isCellX
  X = {X};
end

% Dimensions
TS = size(X,2); % timesteps
if ~isempty(X)
  Q = size(X{1},2); % samples/series
else
  Q = 0;
end

% Allocate Outputs
Y = cell(1,TS);

% Time loop
for ts=1:TS

    % Input 1
    Xp1 = mapminmax_apply(X{1,ts},x1_step1);
    
    % Layer 1
    a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*Xp1);
    
    % Layer 2
    a2 = tansig_apply(repmat(b2,1,Q) + LW2_1*a1);
    
    % Layer 3
    a3 = tansig_apply(repmat(b3,1,Q) + LW3_2*a2);
    
    % Layer 4
    a4 = repmat(b4,1,Q) + LW4_3*a3;
    
    % Output 1
    Y{1,ts} = mapminmax_reverse(a4,y1_step1);
end

% Final Delay States
Xf = cell(1,0);
Af = cell(4,0);

% Format Output Arguments
if ~isCellX
  Y = cell2mat(Y);
end
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
  y = bsxfun(@minus,x,settings.xoffset);
  y = bsxfun(@times,y,settings.gain);
  y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
  x = bsxfun(@minus,y,settings.ymin);
  x = bsxfun(@rdivide,x,settings.gain);
  x = bsxfun(@plus,x,settings.xoffset);
end
