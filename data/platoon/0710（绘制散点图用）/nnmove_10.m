function [Y,Xf,Af] = nnmove_10(X,~,~)
%NNMOVE_10 neural network simulation function.
%
% Auto-generated by MATLAB, 09-Jul-2024 21:23:05.
% 
% [Y] = nnmove_10(X,~,~) takes these arguments:
% 
%   X = 1xTS cell, 1 inputs over TS timesteps
%   Each X{1,ts} = 3xQ matrix, input #1 at timestep ts.
% 
% and returns:
%   Y = 1xTS cell of 1 outputs over TS timesteps.
%   Each Y{1,ts} = 1xQ matrix, output #1 at timestep ts.
% 
% where Q is number of samples (or series) and TS is the number of timesteps.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [-9.27187740505682;-3.65799721531803;-1.99999468395731];
x1_step1.gain = [0.104758804509858;0.260795022164707;0.50000722551666];
x1_step1.ymin = -1;

% Layer 1
b1 = [-3.9762779071186753477;-3.462126821158968859;-2.6225729964663346827;-2.425397573731691736;-2.3233749352900257001;1.5918630330992522559;-1.4692079210655240029;-1.1179590921752180499;0.64922531242351066982;0.27191778470427946379;0.53246411237215818257;-0.53210118608699108478;1.0288938809943011243;0.75202399347287007814;1.8477061224432043129;1.6303696906484577145;2.2354406351323667934;3.1887289659001818443;-3.1692083841253726462;-3.7868358851943875187];
IW1_1 = [2.4823958305907116717 -0.65530160820604044236 -2.6893708599013415039;2.1496874293736092376 -2.1075775071662548044 2.2891096370872059396;3.8229114864581457134 -0.29713824373133018719 1.2747065914302355694;1.3122277204374128701 -3.5491908825247935333 -1.3321148293395523865;-0.028084632669709893443 2.4462388360719642399 -2.8333451149666735169;-1.8866303667932911026 1.7434401103339576267 -2.6937926406894954212;1.3923021472852923353 -1.2747694084164620243 3.3081677463435221753;3.4671663188956887147 -0.60994134905801100643 0.9582411899067653227;-2.291169615652747904 2.7825040026931096016 -1.3642435437169837531;4.3520518758448423213 -0.075803514251165993176 -1.2127374953082499243;0.21121609883001388197 -3.4066312039193915595 0.88292027806004280688;-0.70150662841074629128 -1.7814628272835879574 -3.1705242854304227507;1.5404189613366845446 -0.73015234447740928747 3.4367267402260393006;0.12030973814714727987 -4.0650982056232907169 -0.16526178179806697011;2.7875293978391675331 2.0985159572641385317 -1.5137942360569032196;2.5867264878144702323 -1.9665037064746413442 2.706999396003082925;0.12204764215899387148 -2.5502397247845500772 -2.8736667272067957235;0.51197141681092073195 2.5066914509008091372 2.6394958465142317472;-2.4333137382815279715 -0.74391329176670994983 -3.1258393086603062372;-1.585858515260248236 1.0093101101827599564 3.3730211094196591581];

% Layer 2
b2 = [-1.5885727372572844285;1.1709944804703225074;0.98919068229475226595;0.60342133144866672012;-0.52386307538690013441;0.25225923306517883393;-0.52627138936846340478;0.84725171666093512801;1.4323634402658325104;-1.5400903619307726444];
LW2_1 = [0.10505908127670249286 -0.10697869474398490064 0.2616086520075054378 0.25264920735306778399 0.50314125024303946176 -0.41858311176421036937 0.30007806231993094936 -0.43393825476305675215 0.25192261529752457694 0.098710684051009897622 0.41814568406580621129 0.40957255017069726932 -0.11818595844477540469 -0.27618729540894709773 -0.63227029956368252517 0.067139210799538606711 -0.21051934633161234478 0.38880565458233823373 0.50691341460466532443 0.50726204170392430459;-0.12440937497088583319 0.5810285294180130844 0.21685990359271192784 0.052991291987613681203 0.28934681019628227805 -0.22276648650803743124 -0.38803435611068753941 0.15467916122242758581 0.1086341318074885709 -1.3798614962403934481 0.3145680106345214444 0.16707067930803970457 -0.36348798297915424493 0.79595791064389209701 -0.75996515933111130625 0.011538028247486164027 0.12473186974949190819 0.085687074881275998584 0.26784569592889728717 -0.31368126340193291934;-0.40660468075023364909 -0.52096764830437292115 -0.16370258012028149341 0.18759344450622389422 0.11104406534812738538 -0.10139660608063287561 0.41617814948851900025 -0.37096450687883886221 -0.11123876751326637613 -0.21335671102222847351 0.3262499130322133456 0.32496660768786772566 0.3888464105408210858 0.098291870759566773996 0.54631161936452310446 0.084164533398806182229 0.30478727429475482857 0.53359084050284777412 -0.84723319366035654276 -0.50460555889742353397;-0.37686314727438585681 0.13373842289619841672 0.44666833603953537413 -0.36905340851691287307 0.51966881233550188401 0.25513247414278955594 -0.17118852688418753627 0.35847732366310125496 -0.14389494220618187503 -0.12982694123077945236 0.24059219818840321681 0.0073785995994599994433 -0.46935214322420515387 0.15834083363372339348 -0.68787103254436787747 -0.96495963750811797333 -0.087744089514626630311 -0.087413518119162425535 0.32236262124885745051 -0.18058799255865964906;0.71307621622324202093 -0.095494978020102497251 -0.70410830256236767166 0.88851908333267159978 -0.10672512093420491452 -0.8175920295334678789 0.77619497753584232314 -0.15101554722538373943 0.37132757070875643812 -1.8932972967914267759 0.043397838703847252395 -0.14411410453105547025 0.66175372332797255392 -0.39929171916727729252 -0.48733706223431855209 0.49329941089661344389 -0.20800402776254853232 -0.13678566772555417197 0.56506149432190644344 0.32151703889043692364;0.26296897814026642948 0.84399726193722457435 -0.55153477683145835098 0.89645011222412007701 0.51749917398083533637 -0.30772794514790752229 -0.21839889300727746702 -0.02270921861368617109 -0.96305358619163528022 -0.91581298309007430625 0.29066784117636040863 0.65237437715679780226 0.25249239463725486887 -0.43563551273744682835 0.46733230235476630465 0.47675319822723810637 0.61747301595457226853 0.096129575085530521994 0.58555218356740368346 -0.062828329605718505335;-0.45797998236058379273 -0.83439300584813735906 -0.34015137364093839256 0.62595999176295458177 -0.025083322779037905276 0.0068294520796484724581 0.62786502781602882006 -0.051582993269499471944 -0.095284290799174317654 -0.42632064310555078945 -0.26849726435339216213 0.19782912221003429165 -0.042093995813925713656 0.27732608614116149859 0.73834977526856926389 -0.070670269728136378418 -0.58297247870665236391 0.32429248348249156697 0.87651153231127132415 0.54468606282474063551;0.38638290965606819638 -0.99216725740573152859 -0.15568969206779370573 -0.51494120616038741023 -0.16151844316613150898 0.3314680528303247109 -0.31034745426090054599 -0.17533587608197270802 -0.17757337581704218943 0.19878090637270659502 0.58293772238543706266 0.51493983709208457356 -0.39231258385704820268 -0.62136666385425953774 0.40559801113124466232 -0.9139875708605492699 -0.16643382397914399662 -0.30118421071324652516 0.45068879004375000941 -0.7582501416010675177;0.28224761772767698043 -0.68068579486351454833 0.3040117599108104196 -0.40387116334727851674 -0.41270775176396123918 0.074373437599864644643 0.19123220526530920749 -0.1302775654030370045 -0.28758148822907170228 -1.4184967810764224083 0.2536796992458074107 0.28935956362202858161 0.28737037261346920491 0.18755848009105038909 -0.069300050094857623684 0.72569042981008824444 -0.37914945819374740177 0.17016154053894419484 0.24693509600882199151 -0.66041263946387362971;-0.26685641137787619037 0.58502095688363386916 0.51732624202111621159 0.15575290768274901998 0.53018549393308866957 0.19375331860812380902 -0.14669301947579085899 0.20027368886252155944 -0.06126542095647591335 0.39880851800303029897 0.43753187378267904828 -0.25456153963493849401 0.22835444506854385427 -0.20926035941635548476 -0.43015934290906615578 0.33201712419327172876 -0.083591686592690145341 -0.35202369596282018227 -0.64921690614005911346 -0.35489766872734501701];

% Layer 3
b3 = [-1.7699030286178978333;1.6924455046995212637;1.4848465572918294608;1.0020264205192312978;-0.97580776565718063686;-0.98864113624454197371;0.69642040293923157535;-0.71242825430819911592;0.33776001391987814371;0.079371571643265248497;0.13803664039004642783;-0.31859923184579291844;0.68217245717687768902;0.74668754975278905928;0.92881332537072991418;0.98949265789558271678;-1.3363500216125276943;1.4404900837048304485;-1.7391512725098539072;-1.8416014809997895973];
LW3_2 = [0.30336903351543348384 0.6691882593977888094 0.93192103877326204486 -0.77736930507149493152 -0.32869541112768801971 -0.1955960697975629714 -0.5550255048541742342 0.38581930748447879065 0.96759948674355344966 -0.74890632043007887564;-0.31518489030858676259 -0.90677680912455338458 -0.47473091329614280909 -0.75259531241558819126 -0.57284601734554674302 0.26884031778684791547 -0.24575175336989155128 -0.84845005654449368038 -0.88284596795839420658 0.28400438960165513835;-0.36545398388328237393 -0.73886997191641379246 0.48968552840707690876 -0.14059118953949981123 -1.2728760388170179407 0.59054798084011606019 0.080870958968256842492 0.49437305888417820698 -0.87737716307038926544 -0.75376329293277666288;-0.22781542554399825118 -0.010312286692795014434 -0.66292602916204768082 -0.56326114787151582153 0.56743112104909909643 -0.81384094384392979826 0.27794968614053194855 0.74904064396763714306 -0.75929405619878531652 0.57075182554498649079;0.18359940798117971306 1.1170077133176015138 0.59537970514306903791 -0.83413746096837826371 -0.21202668625515702638 0.47266393051883087706 0.93940463564540455099 0.3228241733549048198 0.82711303838472682859 0.62080081396505382152;0.89032663150311097677 0.71693309799895965639 0.85448426657626264102 -0.45378733052613190457 -0.024147526651042746509 0.19549704531761491477 -0.12489017928757215059 -0.26669598559329482645 0.44135310537399286002 0.80081379532965946133;-0.63855870711401330198 0.89498850322241574329 -0.34532846295609292975 -0.52740009417636790623 -0.44536242084189248125 -0.25789186881922587791 -0.67067001442751494888 -0.96153525981350373986 0.49464205290972046436 -0.22408693674237459281;0.41328570310053963643 -0.93815061594440019022 0.81917664265751066743 -0.075641460210756100713 -0.17770748926241297649 0.15643816543823133025 0.37209477277817915031 0.052673509528108126976 -1.1456443409340697492 -0.4244787052916801362;-0.81538327529899135016 0.070673331095577968108 -0.61593324365769908102 -0.8636265789708141849 -0.079383029065502028199 0.88317986024934036493 -0.97752117914576908131 -0.37684218268066255186 -0.37011221815213413144 0.31770272947784566897;-0.22709164266728468218 -0.63485867529133654941 -0.18653939064780702961 -0.9556365292119662902 -0.39932646796883786156 0.54179777926904437724 -0.91093231733430035657 0.79613996957842647628 -0.46366738022289455401 0.45055908040040437701;0.24193834329362975955 0.84660840947179416549 -0.93430510742270533875 0.70437572635650147479 -1.0319991931804644025 0.060950009378697392326 -0.24478881409150207715 -0.20726801417442825004 -0.51267600593583662061 0.66888512081394102538;-0.5310543627714953141 -0.89665853902726100344 1.0561659868831860809 0.090428168543732243001 -0.60010142909297881086 0.61937237635302100358 0.22335782510536067447 0.34053122099617849639 0.72326365945469828223 0.020376027103295189791;-0.076839060550539892147 -0.21807729668559514002 -0.20534862584274402031 0.955973045407783939 -0.90934890800150947054 -0.32354403438231521539 -0.39200267110940789639 -0.49082765726931526507 -0.81638315972623942685 -0.66965499350327295502;0.45350973763661833749 0.89061234622223151014 -0.6019267878898476587 0.48583899286374071513 0.088050970961814717386 0.49007544465375169063 -0.29379316913014819068 0.72761427109172560623 0.71112506689332288801 0.72136653762654512345;0.30497490326261300631 0.97182644738104129178 0.93325727777342126767 0.24359147560695107448 -0.61876996294921826625 0.49400366248157911997 -0.92600222866910375519 0.11354513140268295002 -0.14444744079698895733 -0.39644106078714175245;0.97254423586859173323 -0.84994985905235598267 -0.9200360915854798316 0.19689377692340051529 -0.13483804896843415433 -0.28252808247914085182 -0.16907685642944794702 -0.29327612857714302486 0.70127003959128197952 -0.40845968939553933819;-0.7848608839275418303 -0.35752035674067200732 -0.89345515654839224862 0.94478761798277766104 -0.56303186478225930589 -0.044603042895100669663 -0.75331761562871324411 -0.087439225096947958971 -0.42284437354565024281 0.19486359792177412875;0.77408230154170609705 0.72886637257426578618 0.2680552651604751202 -0.78577692369797302874 1.1055794441535218287 0.16976248718111031089 0.68983663176260012762 0.20679103124069425634 -0.14943090880723222669 -0.83067967935286068926;0.0062193385417382129193 -0.45950386051002034549 -0.6165577480705727309 0.60427428712495401264 -0.14502301572777806515 0.48461075447297713437 -0.95956746233902134868 -1.0059021006242565566 -0.54310949286258181079 -0.10396353000390247401;-0.46656359599077301681 -0.37932017344975960116 0.57253741247400291581 0.22689172865066775664 0.18930770648230468844 -1.3734009350161919816 -0.37461965445498845995 -0.57516198562102749392 -0.95660117710951986236 -0.96823474734420156285];

% Layer 4
b4 = 0.26684863427883781517;
LW4_3 = [-0.23513263095853262352 0.87215256778153793515 1.1092802268974182311 0.20770758547810144745 0.81930273096097894214 0.14777013300459210243 -0.14440431304839668192 0.30821289959068970399 -0.66726491833737200388 0.46395192977684862612 0.77622350489288061137 0.91846843665128374834 0.56631715388519443533 -0.37491995639374509075 -0.41906774382807099322 -0.012891137060176008702 0.20777506972718420841 -0.57409123172609921593 0.6837236687177559169 0.88362642889680298453];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = 0.499999999999991;
y1_step1.xoffset = -2.00000000000003;

% ===== SIMULATION ========

% Format Input Arguments
isCellX = iscell(X);
if ~isCellX
  X = {X};
end

% Dimensions
TS = size(X,2); % timesteps
if ~isempty(X)
  Q = size(X{1},2); % samples/series
else
  Q = 0;
end

% Allocate Outputs
Y = cell(1,TS);

% Time loop
for ts=1:TS

    % Input 1
    Xp1 = mapminmax_apply(X{1,ts},x1_step1);
    
    % Layer 1
    a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*Xp1);
    
    % Layer 2
    a2 = tansig_apply(repmat(b2,1,Q) + LW2_1*a1);
    
    % Layer 3
    a3 = tansig_apply(repmat(b3,1,Q) + LW3_2*a2);
    
    % Layer 4
    a4 = repmat(b4,1,Q) + LW4_3*a3;
    
    % Output 1
    Y{1,ts} = mapminmax_reverse(a4,y1_step1);
end

% Final Delay States
Xf = cell(1,0);
Af = cell(4,0);

% Format Output Arguments
if ~isCellX
  Y = cell2mat(Y);
end
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
  y = bsxfun(@minus,x,settings.xoffset);
  y = bsxfun(@times,y,settings.gain);
  y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
  x = bsxfun(@minus,y,settings.ymin);
  x = bsxfun(@rdivide,x,settings.gain);
  x = bsxfun(@plus,x,settings.xoffset);
end
