function [Y,Xf,Af] = nnmove_19(X,~,~)
%NNMOVE_19 neural network simulation function.
%
% Auto-generated by MATLAB, 09-Jul-2024 21:23:14.
% 
% [Y] = nnmove_19(X,~,~) takes these arguments:
% 
%   X = 1xTS cell, 1 inputs over TS timesteps
%   Each X{1,ts} = 3xQ matrix, input #1 at timestep ts.
% 
% and returns:
%   Y = 1xTS cell of 1 outputs over TS timesteps.
%   Each Y{1,ts} = 1xQ matrix, output #1 at timestep ts.
% 
% where Q is number of samples (or series) and TS is the number of timesteps.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [-9.27187740505682;-3.65799721531803;-1.99999468395731];
x1_step1.gain = [0.104758804509858;0.259072168169289;0.50000722551666];
x1_step1.ymin = -1;

% Layer 1
b1 = [-3.7385215483430909167;-3.3691252359295535967;2.8712627168033102443;2.8930819956735591703;-2.0866622886408046078;1.5533210201734379829;1.7379839235887049043;0.050371600094655348545;-0.67421213172551064385;0.60892549164246490001;0.42246052429597619193;0.78127829760420341998;-0.87787861642791165107;-0.74315319181101657797;-2.0969871032701594693;2.598274276103297975;-2.5248112257695165539;-3.0340315349336814954;-3.2681727186568556576;-3.6555197029918784501];
IW1_1 = [3.1019692470264148554 2.3027384499418745989 0.25107798834228456375;1.6934267191499905447 3.3484241407943695634 0.54901582038256713236;-1.7337785265868728146 3.3600727219882253749 -0.89481126403164612526;-0.79815909728683698265 -3.3142070916960828519 -1.1310120611196909923;2.9342184633822583351 2.0387667233643069764 1.2462881233700715544;-3.061515403892296483 0.49522623658772702004 2.5958888418479024729;-0.64877963395026005955 1.6807869092030121028 -3.2458629890566110809;0.5374109221346342613 3.8205819659676194533 0.26242124908808489581;2.5006804097375425755 1.3061093704090496193 2.5778798908278717228;-0.19073456565070190383 1.2437039980536634953 -3.5350974205086824753;2.5456967229553284504 -2.7451868282512665864 -0.49605008251521021112;-0.1843608981746544806 -2.8741589930449191748 -2.2288280598900001017;-1.1471404276396255373 2.1054222760764980116 2.7840709404445966868;-3.793091492121879682 -0.90132906719283700792 0.66048173699090351185;-0.96735657716073431001 -2.5052825673083161107 2.5472537763902409758;2.3077159946949845626 0.62428485293880131568 -2.555668645489944435;-1.6492016488454697143 -1.2301261152519351594 -3.1642891568315789641;-0.47651332928591971783 -0.18655419058475480876 3.6921428145361563367;-3.38451093333158326 -0.70302349786753104421 1.8123084496235115637;-0.7140094671748439259 -3.3672443362496600194 2.0563162325227586358];

% Layer 2
b2 = [-1.7498633331909354549;-1.2610351737013807405;0.66422454118403706502;0.38959785656145051735;0.20408368816087171793;0.20080013721238529345;-0.54068543465581564433;0.87469672549727528477;-1.5334877014664194395;-1.7028078058017066532];
LW2_1 = [0.55240460242564115578 0.16738733190513313542 0.59418469094133974373 -0.068858738187858134494 -0.46396331593418571604 0.87651647323540426981 0.25917233776438403092 0.79240142560779747161 0.36941020773044053183 0.084170001135171340634 0.012718303487368912835 0.41719104913998639184 0.21165884926257116927 -0.025852238962044887804 0.024246627770865888246 0.013290893020720156298 0.80619049782063412213 0.36910142270322959801 -0.40582510017577205774 -0.42379025733676367604;0.061568245594382391139 0.12029064956606418113 0.46984703246981163183 0.61125545597228114758 -0.22050659402020125754 0.24343568480366936657 0.44932988871869328218 0.38618077561154351418 -0.44994572512985275825 0.46531266334632420678 0.31495465759353863389 0.22673733014011698828 -0.32180442225778771448 -0.22350812765367761292 -0.14496077554330555337 0.46697965629580168168 -0.24472954101287650031 0.060073255000396869052 -0.28840896040496721842 -0.46558229009120555286;-0.48376681604014992732 0.44789681966888805764 0.38168357170693761882 -0.74817073216394380797 0.5059529514689162788 -0.30991179318773243168 -0.19969290250159629774 0.53607186873778223113 0.24375761294839448645 0.0047894983849866845649 -0.20486443667678944092 0.28966888413995095508 -0.14297226328034826071 -0.80858226513630060417 0.237676313086730151 0.25920056102812544241 -0.35551878951453447231 0.15054694552830127918 -0.13692677362910365968 0.53908226005188208951;0.07352121279275766752 -0.21073966359283460847 -0.0056599895820212339781 -0.12023361360050570379 0.35157422805563942614 -0.31367010418466256816 0.43962205011273564059 0.2532004698093145989 0.050437818778247725526 0.46841986098771060121 -0.44477462222807351289 0.28810245027531244943 0.4337780068135554945 0.0040897169461787423114 -0.77601711273974527394 0.34526542404227045235 0.57699607749812809043 -0.1354285065957169798 -0.41534396284626595719 -0.70670295168913022099;-0.32510375132213209515 0.19705004642608420218 0.73655269734628414646 -0.20478092509757095385 -0.50789442721234490108 -1.4155022570642747937 -0.018710941505513622313 -0.16708385492919708426 0.2444759572858033192 0.024299972465495457696 0.62578150396688314583 -0.35434900849742551054 0.10075072415869203157 0.10742201806997582481 -0.43397213026150943671 -0.085136873245940533628 -0.37922925452695105397 -0.44357872341930881799 0.31253012953473269242 -0.18143364549348880987;0.13480640650673222924 -0.24065630037473378922 -0.29344475854587454 0.55148308632215992109 -0.1956021796025533277 -0.53600244419532550033 -0.11690711461687393335 -0.098121513858480641224 0.71545546528021097821 -0.109989009941995175 0.50146279618370437348 0.46411106845263760956 -0.021426391226454961914 -0.18543936815263545315 0.0044327874845341824067 0.48695750130459936056 -0.1160712048665589885 -0.32866449598365204965 0.2150118077309914888 -0.096197077503144531874;-0.50526114497514862389 -0.24912318782924897098 0.14517940726861588985 0.068756320057831360471 -0.41289319399582857795 0.43582933808113394347 -0.13709404918391843164 -0.20437703518210242892 0.51529797920002340383 -0.18792131540701170755 -0.19291892830504506207 0.30310721828663866884 -0.33817878160292969003 -0.43737501458544303379 0.42669727876906055064 0.2987501686854002747 -0.042534074684904304986 0.429118752450640073 0.43457898641659081784 0.32133952380321961773;0.46421244794450405857 -0.33027686761363694856 -0.53963389918800397371 -0.12001961398169871953 0.072106187924337955542 0.02962470571649056944 -0.07077360688151616841 -0.32299446854023561304 0.068660114659317345032 -0.25744622318592230714 -0.15357395221721864553 0.080572584516324721737 -0.024423852312607349097 -0.4252138512390019609 0.32498418211771767927 -0.021638822727749737473 -0.64354261269350987451 0.40274176476478579234 -0.72268491995134886974 0.16832652694015948214;-0.048009327361389367295 -0.13878843419738443044 -0.49576255675334474082 0.018702957914159649977 -0.24919228985832775347 -0.023626580153003333418 -0.70412382718771726609 -0.15115335929268683413 0.042856794621415658653 0.31515660074462659157 0.19645103544195363643 -0.50148329331626517735 -0.010218733555118994852 -0.76946072234031803738 -0.14162850790629127884 0.10282553350201939502 0.25224671268202442098 0.38981177333895766779 0.54794902525085009692 0.3835822445244162493;-0.18400955228985188539 0.23606463279542067024 -0.35675988955701470884 0.3938099218540195845 -0.13501951312974549979 0.58944582453310723213 -0.35290690731937890412 -0.29958536099868321445 -0.71981936077157171461 0.43067356590087013668 -0.67998106016680281982 -0.17831513573520671456 0.00042740985246558066933 -0.11553345432180792129 -0.057408107159117684193 -0.481318666439808307 0.60988877210249614613 -0.11207778149169117521 0.60023778529073090748 -0.32093304639521275101];

% Layer 3
b3 = [1.8971710941134622974;-1.7694920435411078952;1.4678467816135896129;-1.3583809186160624716;1.0698887779990884361;0.98684968724964350351;-0.50417307944590594726;0.5122441704973127452;0.35703042744665247632;0.087241828845035548912;0.096850251427936268067;0.30473259330006174928;0.13865929758984002484;0.24442956735717003003;0.83298649170004357423;1.1277478114269863241;1.323894578435604874;-1.5366412350400089348;1.1819726947958353325;-1.9619654514944486756];
LW3_2 = [-0.3979875653894994203 -0.47205644559139287031 0.3316030297624110168 0.63877575631467131689 -1.1430841405911165154 0.30225875793862694296 0.21230642456135667695 -0.24543748226471762131 0.99723220669945222827 -0.3772036838712062301;0.5744514061540956229 -0.83479566413447492401 -0.90618601719009017614 -0.45107180046210665347 0.39163915273619309687 -0.56203298189349049085 -0.76021072065584494037 -0.34098045638109442113 0.30747837102047353985 0.48926523326507193046;-0.19783725220797557243 0.62106966083017700608 0.21575889388617122688 0.71523354977804320942 0.16664673091889495304 0.96731883781047556248 -0.87273722677382026269 -0.90934981201745990198 0.15182189256663772281 -0.28161458915677295423;0.54800331694134019056 0.34739787102485786274 0.66374461618534696949 0.11927652408405639561 -0.073077454679080139366 0.89595039108901952662 0.55128833712929081745 0.83965832887584801458 0.86909908514275935332 -0.57598268481138648056;-0.83787782725594595057 0.19697024444218824701 -0.80935417861225378289 0.36506727405425498656 -0.96683855505013660547 -0.65800270337269717302 0.44282180637612827967 0.34747908488640716351 -0.69720398657664073294 0.46526717255348232216;-0.47338244325291484182 -1.0082815225404022641 -0.55526049244137232197 -0.49589540994589559331 0.020446096330052197787 0.38341184254631688333 -1.0066433217100290154 -0.44475840350203099671 -0.4827497379919519771 -0.30452399265705909492;0.61368503507617733206 -0.12769510055037647245 0.74160796915152560338 -1.0037559371291742139 0.39535727595768821452 0.6450526044728475128 0.03352265049660478613 0.77366945861887359559 -0.32293869740822767067 -0.29571405808534168003;-0.14013921714811961028 -0.41213674057972637943 0.036074344018717660609 0.86923923993423068968 -1.0782848378703600023 0.02789596839827662364 1.0062466561662573028 0.41115091991356972345 -0.29184751901570765709 -0.18023158107806380723;-0.51669943573236809531 -0.5738365462604245737 -0.67835838280815352608 0.59080780596302517882 0.81023397023138921114 0.14659632885200252206 0.068307294654373948428 0.70149550848328068309 0.62835776860065284399 0.80627975978438182203;0.14994587185683269648 1.0573475256157509605 -0.05665095882404112132 -0.0094070184609431548028 0.61703758271672959346 0.65565309664470872164 0.64682548379713855624 0.30141770340792334304 -0.79309364424173933728 -0.32284960930622380593;0.83563429769007713244 0.28330795931863472781 0.46348441791237021681 0.63775053000395987013 -0.19477858520429924827 -0.6790175086799740134 0.75233398198158230041 -1.0014703600854755194 -0.37923876220372410017 -0.13767198664576210665;0.16414904490703546847 0.17647531666698290653 0.88632435578072421567 0.39052258942411127718 -0.82074242910516170824 -0.08114572754050233816 0.62272741598507930227 1.0089548536502270792 0.66490363868399415814 -0.46676738524984190404;0.76525993027505789801 -0.16150214720247782485 0.13144886437819877645 0.17018545298268605848 -0.86123924668936546745 0.71517646824175917786 1.0199073425819944472 0.79971290727394661602 0.69540555845477536323 0.253057187737807332;1.4740386705991681549 0.18706629591024073744 -0.42830654467730827628 -0.44507183036290148825 0.14377230784279163012 0.61477496725979019487 -0.49827049857588134874 -0.18949116801233664709 -0.93095381789019138186 -0.48390938654951098918;0.58202493962196755195 0.37656635812006516995 -0.68971905562536028889 -0.73703211617885122653 0.64775392517651275703 -0.4667394531286345738 0.56065261766887619643 -0.28578477427509613173 0.76809369987724540607 0.72209603670167699097;0.91202333820950187704 0.9138116292841242938 0.6857736293817476847 -0.56586347146593241053 -0.19092938039231280301 0.5639447515380687781 0.26055157152164282186 -0.17020047109790814588 0.19106583950508140846 0.43293622758779526372;0.4775149302276158747 0.41042822628079822511 0.72365697723931354801 0.12870481341263356745 -0.29780342730966102849 0.55071262192745795705 -0.45725118619952892507 0.30764646992142741233 0.84867708397701524525 0.20113533114033463334;-0.80592869315590009993 -0.011447199702650489792 -0.80094452876975685829 0.39847000890423711628 0.68183746910189846346 -0.42382008858916681016 -0.32988881688138665949 -0.26094114650262190125 0.68288192118790069784 0.45400681932280700925;0.76654351949984989023 -0.62139488564944245219 -1.4617140768989473898 0.52738763566226565249 -1.2112310567493258517 0.53425773084016270342 -0.1678975013552821971 -0.39192244196996051109 0.21591589175913664111 1.0175447369767440797;-0.22665262283072243332 0.76105887389209669891 -0.60863657078209365547 0.64544318841510317508 0.5385512318724656744 0.084263814232820630212 -0.29674789409807394991 0.57461864461300915519 -0.77247508452008406543 0.71009804063469406099];

% Layer 4
b4 = -0.49855810301035868859;
LW4_3 = [-0.073451151422447846784 -0.87052885842919858206 -0.05451245479128890431 1.107586384942737423 -0.69122734158935383864 0.69070909758638798781 -0.50442220466285581093 0.050797658012858480647 0.051546781179412262675 0.040415090822307188356 0.66292246039013524861 -0.18839618281073902684 -0.48534148124146037073 -1.0485038808534028476 0.10464746655008907994 0.15112232443424714057 0.18997831718567653736 -0.25114385747382300673 -1.1184842234877021561 -0.13278056019727810244];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = 0.499999999999991;
y1_step1.xoffset = -2.00000000000003;

% ===== SIMULATION ========

% Format Input Arguments
isCellX = iscell(X);
if ~isCellX
  X = {X};
end

% Dimensions
TS = size(X,2); % timesteps
if ~isempty(X)
  Q = size(X{1},2); % samples/series
else
  Q = 0;
end

% Allocate Outputs
Y = cell(1,TS);

% Time loop
for ts=1:TS

    % Input 1
    Xp1 = mapminmax_apply(X{1,ts},x1_step1);
    
    % Layer 1
    a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*Xp1);
    
    % Layer 2
    a2 = tansig_apply(repmat(b2,1,Q) + LW2_1*a1);
    
    % Layer 3
    a3 = tansig_apply(repmat(b3,1,Q) + LW3_2*a2);
    
    % Layer 4
    a4 = repmat(b4,1,Q) + LW4_3*a3;
    
    % Output 1
    Y{1,ts} = mapminmax_reverse(a4,y1_step1);
end

% Final Delay States
Xf = cell(1,0);
Af = cell(4,0);

% Format Output Arguments
if ~isCellX
  Y = cell2mat(Y);
end
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
  y = bsxfun(@minus,x,settings.xoffset);
  y = bsxfun(@times,y,settings.gain);
  y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
  x = bsxfun(@minus,y,settings.ymin);
  x = bsxfun(@rdivide,x,settings.gain);
  x = bsxfun(@plus,x,settings.xoffset);
end
