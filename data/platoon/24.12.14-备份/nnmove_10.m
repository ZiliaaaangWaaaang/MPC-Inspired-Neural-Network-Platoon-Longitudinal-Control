function [Y,Xf,Af] = nnmove_10(X,~,~)
%NNMOVE_10 neural network simulation function.
%
% Auto-generated by MATLAB, 07-May-2024 19:03:58.
% 
% [Y] = nnmove_10(X,~,~) takes these arguments:
% 
%   X = 1xTS cell, 1 inputs over TS timesteps
%   Each X{1,ts} = 3xQ matrix, input #1 at timestep ts.
% 
% and returns:
%   Y = 1xTS cell of 1 outputs over TS timesteps.
%   Each Y{1,ts} = 1xQ matrix, output #1 at timestep ts.
% 
% where Q is number of samples (or series) and TS is the number of timesteps.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [-13.2925490923537;-6.70139767883548;-1.99738196042707];
x1_step1.gain = [0.0638195875959219;0.168202204644631;0.502184479042526];
x1_step1.ymin = -1;

% Layer 1
b1 = [4.1780544676708144536;3.418438606326039686;-2.5531505643694032415;-2.5009390867439598161;-2.3120983822254768114;-1.6583379565043501191;1.6170544513511664331;1.0790390260278737156;0.38691375272462924517;-0.24451128008493444588;0.037688161809335964103;0.54077227065759680968;1.0635844457857765999;1.2619678783395800181;1.8238170871635521753;-1.6439219403301359446;2.2186761899413482979;-2.7949152835636579262;2.9773583026459231604;-3.8844483380584109433];
IW1_1 = [-0.23887193596482042546 -1.1396420922713106361 3.6938239512001120879;-2.4620917589215887133 -1.3879719176152363058 3.1166433217222815344;3.12306203806241367 1.0464366207074040638 2.3055560984745402386;3.2981001009142332236 1.7984227543431459129 0.88553039043519055085;0.65597949830543544891 -3.0973526172051601968 2.0505324352784324304;3.6425793856498400736 1.3473598590893480775 -1.5787336137225320698;-0.60676405356055918006 3.6647703281526000652 -1.0019329758099571048;-0.9615320019122216566 2.6545923687891805898 -2.3875063498362263381;-2.2400859631509062453 -1.7155945669670091824 2.7327684039014110695;0.87678315730599609701 1.8488347309907171567 3.088697272951900441;-3.2186494879898486232 0.21490764473266207868 2.2011146772762222312;1.8261981094309258644 -2.4233680635457557351 2.1631801946824396055;2.5208243071650140443 -2.3325607028749399952 1.5782115448328910556;2.9968679713247681207 2.6706852004268148981 -1.5409652350998319648;2.3730524254643388105 -2.3255520853555484706 -1.8048548844942373659;-3.2485543914340491156 -2.3689103573900545108 -0.65982819531424030668;0.8606743802279392952 -3.8931393772804780973 0.6224705377624600855;-3.8307582372266733017 0.670933929257299555 -0.30081377038216183806;0.89820200579508813199 -0.069575366207585032097 -3.9844093614627449362;-1.2135651025953482218 -3.3610317612432845102 -0.93208045102610215249];

% Layer 2
b2 = [-1.6042172616400427465;-1.4185509385335919319;-0.88839542000133708832;-0.46579718184095919575;0.29256945147064600254;0.24261253523969120161;0.48131057960225520631;-0.80589899122020236533;-1.0929105587022645008;1.7917220860337081945];
LW2_1 = [0.42834352853395102345 -0.44801786896876949484 -0.31675201707024269737 0.35469948159601188964 0.3101405050127414853 -0.12844505043029139091 -0.21496047515976951514 -0.4199203605995392441 0.20075333839644196599 0.13298950980523469023 0.049474089329680386029 0.39203138660463310305 -0.29053514800485591429 0.40331530771959467341 0.47751515324605270374 -0.22033260131140280924 -0.37936132898457014528 0.52971343616599630977 -0.49062336781006266051 0.022954096506961358531;0.40330713582589727828 0.43648784512148747217 -0.14642442732966262642 0.66658691843060036142 -0.1114521096629456226 0.41758618744155001634 0.56111196704553900627 -0.29267831134917265956 -0.62770088276005975292 0.8402767485334726727 -0.31192955169208663735 0.3662677399767784725 0.61934218349732017561 -0.3244707570870042912 -0.46332703080787196459 -0.062192911755816579489 1.1047166551282043834 -0.070950960319160011336 -0.16603497493194666057 0.35968958522165878078;0.34239622276054038075 0.11375048859093184195 0.57798168765731017249 0.53443028678143433829 0.72491983880802313145 -0.055791199794994292271 0.21183512800682469113 -0.31593085118953784241 0.29809653248864970143 0.4228087409573465516 0.12615504957072753989 0.31391846803005024613 0.34553696948900347596 0.63400150806572097562 0.6082921107195283783 -0.013798555181489967694 -0.58698392433354051878 -0.33866339734173406262 0.52407965257430599859 0.29121909135991275175;0.51823883041112317471 -1.2155996281258447667 0.29706948089832652116 -0.36836769214994657951 0.064723788295028047979 1.8650843079270362779 -0.16443032960688291899 -0.47449520091114194553 0.3782524687549551623 0.30433128970749429021 0.064992494124421054669 -0.38793478507493311946 0.33582118450639203422 1.1089119741754593917 1.0851338250961066745 -0.45027021523912963419 -0.42144516666045767073 -1.0578346174028616655 -0.72445444364103639412 -0.37997831718317620631;-0.2282373420375123918 0.24294739649228833112 -0.22093442647404254453 -0.50032929514231350154 -0.19586803018235829366 0.27710381732796385279 -0.17697207072544676731 0.071000206658728831632 0.12896144425944905398 -0.12469347707557627836 0.15014540830254549664 -0.16560875351822512691 -0.34529383709077543507 0.16008456298881698632 0.59559714102911498479 -0.64040295441579875302 -0.096537819879636832532 -0.43117738689370499472 -0.31937659609359758672 -0.0039913385195255455043;0.32246455463276185727 0.12454008973963537343 0.39140788950648114364 0.32965362973915590672 0.63263777181509361913 -0.4802484234831318477 -0.17688520294581897008 -0.35831651100847733415 0.072249683628555508297 0.47270277887486839008 0.33659622094056174113 -0.57895345810673615183 -0.66970852470045783011 -0.44773987064460851748 -0.11695715353054531027 -0.44242330064345603002 -0.18337280598681324206 0.23487083226553687187 -0.48240128347779326345 0.24918824430035801942;1.403779385175552008 -0.34136115536537775528 0.24653205390991361767 0.25157719462880234751 -0.47852222170121139211 1.2631440285440569404 -0.32981153639493399066 0.21040745974102717519 0.64282665993585341724 0.082632755948008895786 0.35054416391119347374 -0.13279184882987848937 0.15988765094455731353 -0.14208168373538027085 -0.14463438129560612921 -0.81830111566316843241 0.22240431962343565342 -0.1593638632858640769 0.41207452052002818688 -0.41888314723318947896;-0.38863700859164745927 -0.93937086444602901913 0.33046314430585610467 0.54950476624680333337 -0.25525249043901737656 -0.24841234062783912329 -0.011896338034092185029 -0.21862346180892944236 -0.2577374029992654525 0.36226538287410953165 -0.62869201331331825422 -0.31247742292237146167 0.55488915271818728403 0.25190180306727388837 0.37221963609275671159 0.047314235494517256631 -0.19521752586598098422 -0.57175779121775704983 0.1217539220350629392 -0.57629406959884588169;-0.58770518684759009975 0.17590971127640175897 -0.18156017698354337542 -0.41376689318535370132 -0.48572545492040447579 -0.45659571718672675722 0.17347740066919464796 -0.097822054138013120328 0.38953065300100803148 0.026895237654001941802 -0.54219079814794168826 -0.59047540734540815421 0.71760961313489801672 -0.72514967712380762332 -0.30152839081719001735 0.58275300125263207462 0.067259868446717205326 -0.60167171828036913883 -0.16045444034773698183 -0.55972433915372654667;0.70050775817910571064 -0.23789319831298774699 -0.28082350559343849383 0.042071711745558494633 0.0172380087410669465 -0.45096029071889998097 -0.45912681990402842702 0.21415657946112443 -0.47377813200465546117 -0.63656651460227220429 -0.47916673850787933064 -0.3772551458688948034 0.04929701659526678631 -1.280857007190756125 0.21367266767433107377 -0.07360916647284992953 -0.33249771773289849008 -0.079111330717128364176 0.2941764467618537271 0.060399946121779617136];

% Layer 3
b3 = [1.8467054715151938193;1.7812471447109456957;1.5166529801479677886;1.3164318466100930483;-1.2132927258438590545;-0.94027636500173650269;-0.69672361939784910323;-0.48951419750812419363;-0.13710288074387530499;-0.07814404675171966741;-0.14152862586128919786;-0.049515709725556258936;0.51790236931960598188;-0.67668260627966225762;-1.1449807625785186627;1.1666328688365465993;-1.3482875455750831239;1.2976611635100734343;-1.6050507255982202626;1.9097206991865696146];
LW3_2 = [-0.48847647092452584072 -0.24177206040172480317 0.63712616935335086854 0.66216397400341642232 0.6636093289998290512 0.40108334264837613992 0.6470479432088005467 0.88127952749812799027 -0.65606687121361562109 -0.19544876815667580616;-0.793109249104408498 0.43475760173889205218 -0.69648647074404801405 0.76069150628832638006 -0.75494786245676803738 0.51101119650165627295 -0.019262259515640492435 -0.61141808823988708088 0.41054858901489316159 0.058895072270967296912;-1.2395483083332663465 -0.82105308810082355819 -0.2049058612770004173 -0.24240862154628681213 0.24209663804431508227 -0.75849310393061175617 0.13770619819967838682 -0.61648402339829067031 -0.32932687148983907921 -0.19350290484232016142;-0.79741345247066364177 -0.86754808757437562594 1.1991787562773319475 0.29293315315571560875 0.071490731483566563598 0.26944441876554653392 -0.24768938002248555574 -0.45191945777907527315 0.02071735857826759869 -0.50836915639423996272;0.129703801128612628 0.8771083568768881511 -0.16214871049289836247 -0.87827290558663873021 0.3304932207543791467 0.8225367963319261122 0.89831004558836813345 0.36190156375894910745 0.27573114091658684766 0.64162618486310529775;0.71725501421618675923 -0.29425263608024881945 -0.10821080678749718518 -0.94837269904737320214 1.0302569614949157462 0.40124696101320150854 0.30724509527883481219 0.21113396359893418786 -0.90226064146065831917 -0.34639163756562468821;0.29486189051916333881 0.97920844890680547312 -0.18792642535791895253 0.44844853298127307362 0.18195340546805757742 0.81491673777816742152 1.0572355687630057286 -0.43779171383811071872 0.40566383677451955947 -0.53806873406260047332;0.74778572452873870446 -0.18128424581108842917 -0.076673545876457444015 0.82481197130769368098 -0.80409110350426260538 0.56779304354284876322 -0.73777084190634101279 0.61326021583322032349 0.13197398210446983913 -0.64895555631920864847;0.099411615996213786861 -0.48828416303846411406 -0.79037057771562135855 0.56364857848917837568 -0.41750798894328322586 0.13082515400876337797 -0.20167222168878312649 -0.022814457814917716433 -0.47953995009656297244 1.1927596073228137197;0.29822160966520988579 0.82600686702497128078 -1.1431569922814273088 -0.0033064558171980876558 -0.58131809207989837418 -0.56552466090375275165 0.099216600106597219177 -0.20705001945998907642 -0.74082189010062948764 0.82164275831678013073;-0.0023858250695329595234 -0.065283043379639693615 -0.91809758117524387089 -1.141373751179111995 -0.17891961154869368 -0.34611899375925397893 -0.54626548907286376355 -0.49549384637928844954 -0.84557687847044349372 -0.25215071237430919382;0.5895406623126769885 0.58930684178315118071 -0.7830465750598769592 0.2267458194892590928 0.66576084927664092028 -0.84080859983132727464 0.38926956282788693908 -0.45139439720626806096 0.70209506845276548059 0.84193883964250870733;0.13011339330177718043 -0.72125493640289406461 0.81509723942441292266 0.95314634491213445777 0.93381226110443060762 0.92609802567066390466 0.45935547994151371132 0.45080261573291802168 -0.92524901293543326819 -1.1971097425229804134;-0.99506559691142026924 0.66259890071801652578 -0.53154103816972364527 0.85126833799764056732 -0.19287636565731772209 0.19886110920192509588 -0.23226541013389126467 -0.33263478112277677923 -0.80612715304344761957 -0.55291645459073923696;-0.32888945384367529456 -1.0090661411242562995 -0.22232134623343796642 0.2911943922841956911 -0.65161102033780393672 -1.2382023354667612836 1.0719415678795614078 -1.0406028509110423208 -0.18649062240294039805 -0.42477100083069618819;0.32294910811593796618 -0.0028142497856948394883 -0.65385875380407132429 -0.68039987798097401051 0.037145711369624287435 -1.0822948954198083893 0.21037936508805357705 -0.6887818316332234847 -0.81192282040372820706 0.26168782763942854963;-0.92774242864574218981 -0.45119661186802634267 0.76756270491242239995 -0.83558196495702519169 -0.50862996773544566498 -0.59420954360136557515 0.045838123896184017336 0.53006907674150560705 0.37400145804198242638 -0.078689913810588985044;0.2410614013134875222 -1.4112931378499034007 1.1122418920735717141 0.046742214616245135461 -0.43646679267632448873 0.028421386377339041829 0.41072115718157986564 -0.79766867050695833274 -0.92355983303722954947 -0.57026368931783910643;-0.73036361603378863183 -0.94710997231613713865 -0.98537066754350954856 1.3168906288819741679 0.051090278547523224062 0.49222179277343436343 0.33840287616886555178 0.596373865856345442 0.67648830625757327972 -0.37489801588593008042;1.0266013822125965582 0.083954142891630889611 -0.70959350156504108487 0.53637107037915654484 -0.60081201645706483472 -0.67554195871777733551 -0.51179331368026959037 0.54861476886257620755 0.028526648105937264105 -0.20745221698662033583];

% Layer 4
b4 = 0.40447421332492872192;
LW4_3 = [0.21975075094760712635 -0.32318717847513300789 0.15125316537832275698 -0.13644327143774032107 -0.52634463620447147214 0.66802893872582758128 0.25639699848985592068 0.3282642207949147406 0.41397001433415209215 -0.31037921140824503707 -0.86775099272587086219 1.0447151214714138767 1.5729095940805435383 0.15635292794628824486 1.5968109096667764124 -0.25685565529333159729 -0.015934745915907277264 1.0745144789363823001 1.4068437224703911337 0.79233006173598097277];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = 0.499999999999945;
y1_step1.xoffset = -2.00000000000019;

% ===== SIMULATION ========

% Format Input Arguments
isCellX = iscell(X);
if ~isCellX
  X = {X};
end

% Dimensions
TS = size(X,2); % timesteps
if ~isempty(X)
  Q = size(X{1},2); % samples/series
else
  Q = 0;
end

% Allocate Outputs
Y = cell(1,TS);

% Time loop
for ts=1:TS

    % Input 1
    Xp1 = mapminmax_apply(X{1,ts},x1_step1);
    
    % Layer 1
    a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*Xp1);
    
    % Layer 2
    a2 = tansig_apply(repmat(b2,1,Q) + LW2_1*a1);
    
    % Layer 3
    a3 = tansig_apply(repmat(b3,1,Q) + LW3_2*a2);
    
    % Layer 4
    a4 = repmat(b4,1,Q) + LW4_3*a3;
    
    % Output 1
    Y{1,ts} = mapminmax_reverse(a4,y1_step1);
end

% Final Delay States
Xf = cell(1,0);
Af = cell(4,0);

% Format Output Arguments
if ~isCellX
  Y = cell2mat(Y);
end
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
  y = bsxfun(@minus,x,settings.xoffset);
  y = bsxfun(@times,y,settings.gain);
  y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
  x = bsxfun(@minus,y,settings.ymin);
  x = bsxfun(@rdivide,x,settings.gain);
  x = bsxfun(@plus,x,settings.xoffset);
end
