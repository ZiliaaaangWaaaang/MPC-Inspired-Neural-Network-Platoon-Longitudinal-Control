function [Y,Xf,Af] = nnmove_00(X,~,~)
%NNMOVE_00 neural network simulation function.
%
% Auto-generated by MATLAB, 18-Jan-2025 09:34:11.
% 
% [Y] = nnmove_00(X,~,~) takes these arguments:
% 
%   X = 1xTS cell, 1 inputs over TS timesteps
%   Each X{1,ts} = 3xQ matrix, input #1 at timestep ts.
% 
% and returns:
%   Y = 1xTS cell of 1 outputs over TS timesteps.
%   Each Y{1,ts} = 1xQ matrix, output #1 at timestep ts.
% 
% where Q is number of samples (or series) and TS is the number of timesteps.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [-19.0505965768031;-6.85918092085871;-1.99763696099884];
x1_step1.gain = [0.0522252737181727;0.148213484472979;0.500572177293996];
x1_step1.ymin = -1;

% Layer 1
b1 = [3.8001846632328684095;3.4001652249978291387;3.0001457867627907561;2.6001263485277519294;2.2001069102927135468;1.8000874720576744981;1.4000680338226356714;-1.0000485955875968447;-0.60002915735255812901;-0.20000971911751938559;-0.20000971911751938559;-0.60002915735255812901;-1.0000485955875968447;1.4000680338226356714;1.8000874720576744981;2.2001069102927135468;-2.6001263485277519294;-3.0001457867627907561;3.4001652249978291387;3.8001846632328684095];
IW1_1 = [-2.6481944410163249515 -2.4380628990745822904 -1.2183263016928529421;-2.7574468082660974488 -2.0131954776632667858 -1.6688123150820735052;-3.5595241458562920656 -1.2093630084331716823 -0.55554697692437571277;-1.476175561777812506 -3.4454182316229196026 -0.62562160662868770977;-2.3610299984614471214 2.3677832265154763469 -1.8056974866426021009;-3.5252243862195444812 -1.2183368572115755857 0.72790920026687655486;-1.5902569680275702169 3.0841811410372956814 1.5492943360058963886;3.6248881719223478015 -0.90239729326082096517 -0.69804608790774846927;3.1306938630983220939 1.8589751509488581238 -1.0882880126067202564;0.41280086681853794817 -2.5597723370437743817 -2.7782304622780356063;-2.057161040862476753 -0.7735046416196202923 -3.1001907192978985783;-2.2255723042978248216 -2.6189292414209854876 -1.6215551243922869951;-3.0432120635793999952 1.8584761214457283796 -1.3138988989915336703;2.7267849130104346855 2.4454789843800361915 1.012758633537417019;1.5013052171520608891 -1.0837598408051256627 3.3185766116032882067;0.4602991454664132065 1.4778241070176345584 3.4706719925787758996;-2.5232094538075133805 -2.7839593792177428355 -0.56955043828642282211;-2.9922692144564049244 0.27457190312766222018 -2.3264433569076237163;1.0537642107324429741 2.8596220791962236873 2.2701422922414375982;3.3046441624697613371 0.66027353740483829547 1.7563511294521210182];

% Layer 2
b2 = [-1.5708258360227485007;-1.2217534280176931549;0.87268102001263814227;-0.52360861200758279654;0.1745362040025275896;-0.1745362040025275896;-0.52360861200758279654;0.87268102001263814227;-1.2217534280176931549;-1.5708258360227485007];
LW2_1 = [0.28948135189352230956 0.19967001940365089463 0.29906962731826514101 0.50964959604628845558 -0.32639001330448719207 0.37836746658093300955 -0.17433539381598739393 0.27159050564976300324 -0.1520931402258696441 -0.57541895610771542913 -0.30238027715037130161 -0.5209307732131894797 -0.33946325793922887959 0.21249013708995209693 0.12346598388712901051 0.56688857615852927818 0.23311178825233308531 -0.27780962404829473433 -0.38225618511147374523 -0.38615970536829941073;0.25040154320375440644 0.40525413570925111761 -0.39027618738092634265 0.15793406103473342506 -0.44781882136477668688 0.29703700143493877439 0.51069487127717927422 -0.13320860224686439932 -0.42386331823102096905 0.42188049740845307012 -0.049693499640346319723 0.4515030437055668755 -0.32661539995034999384 0.5017541638917124569 0.25742145982004976945 -0.15778131566149514176 -0.50370186673340666683 0.17779788099394266965 -0.41194896459296870272 -0.16548082048098561314;-0.46296187897966928348 0.019452464873427943726 0.029422880631676723295 0.50823133369965201034 0.31405679936458863466 0.41383710167923953849 -0.32404135237912584655 0.40126235053265796315 0.16460791983850564524 0.35309416209995314606 -0.31988102666899720372 -0.56604159117501884335 -0.53826675040507732106 0.3134716073650933299 0.098134176332671491094 0.4541089671911657244 0.40320457745835464047 -0.026442005306854400593 -0.012025412369347433794 -0.34051883478006456096;0.27345320109539283937 0.30529556777015276481 -0.26231680336120799524 -0.50679335644227163638 0.25785236077596551674 0.0084894660932149767357 0.22961079022397951066 0.35277983579615307397 -0.48103176553109566749 0.37027771635382866755 0.4585399637767708092 0.27688443612772495328 -0.59199607209713489553 -0.24595176811218327773 0.078006143548645170971 -0.068235320669430096774 0.63608593801657553612 0.1863327212009552869 -0.46201171762456932912 0.015290991664870625874;-0.046770233382395977328 -0.44098840730923349884 0.059131337990442491004 0.53606769461528991361 0.27397109584380446856 0.17270045567298641931 0.13365580178073746542 0.090417772545995450661 -0.57916170331647898184 0.39860070755198084846 0.61882326861468928136 0.36120387541876264326 0.14823556726960310237 0.20671630682384750655 0.10638755847530413645 -0.11020929949514604584 0.34493172869342492159 -0.33551241521159114178 0.50398020958590927787 0.51731229044734894362;-0.3332353433005511012 0.5249777829462026757 -0.11706810181694389528 0.34113227838262283331 0.16446712094137849736 0.52201093829547651204 -0.13053858309429067219 -0.37411240596756634158 0.25837312084101454746 -0.13509898554932239789 -0.54413923676687048214 0.039521855303184215413 0.50900576414024212291 -0.29618579014593066079 0.013684195895233237927 -0.32678814113046605883 -0.52947330812097348485 -0.37380132935624621471 -0.46414322511946670691 0.14925823849072317184;-0.5021671295137496438 0.051137235151686603885 -0.1062000006569103483 0.096803575283690462827 -0.10125325845979915584 -0.07008884863528531961 -0.44754728050710834708 0.57208951767695814805 -0.19082285222700062777 0.14669121817738961511 0.044608269264344566074 0.48200219405196970124 -0.18204472950106240225 -0.25577666131899740032 -0.52208716021817869191 -0.46822598949764776544 -0.1523630705458730028 0.41231332143803217649 -0.57015130679663050817 -0.49839582079470079456;0.4385635392710768854 0.24360615832678084169 -0.43271886103566398196 -0.081274029543905210171 -0.14805793321578342159 -0.59633784231450581714 -0.64361838810989857596 -0.31807576520734903713 0.21769542623496360156 0.10232356238157178097 -0.5596636647126355113 0.54079976867952794795 -0.12113076194050212409 0.24420858427964070581 0.29759904819834664957 -0.25899166621863661808 0.27695605230817454956 0.36177795478371166382 0.0776562069553976414 -0.14793233025427643401;-0.35846524484804132005 -0.51117239596254360201 -0.26980916676607302751 -0.26735278317962363204 0.34870349182344578809 0.40452624816152082943 -0.087013423238464768228 0.46831401453032872606 -0.12809328506012243598 0.033147121455011752111 0.33320777469768586565 0.13890958333604147557 0.53423887519811397162 0.03071513836724360999 0.54726169481570552389 0.24939387354275743824 0.25315358494099782227 0.47923085233356355062 0.30056288515368251302 -0.49125922355034101763;-0.40078624688196601289 0.36835186472854081208 -0.57118157078668996274 0.30014155258540747839 -0.21749660163819281578 0.15628400065900896476 -0.3763285837795717903 -0.32906991972223709197 0.15170678322870664867 -0.26795744791067338531 0.58271408605255825552 -0.43140352671130227646 0.53081462109416011064 -0.10531788027275146291 -0.17329202013153141571 0.33698304573342630075 -0.32846633295210986292 -0.46711854457365153959 -0.22403417749209011967 0.0015283233656756768561];

% Layer 3
b3 = [1.8889959867429886309;-1.690154303927936974;-1.4913126211128857612;1.2924709382978341043;-1.0936292554827828916;0.89478757266773145673;0.6959458898526800219;-0.49710420703762858707;-0.29826252422257715224;-0.099420841407525717415;0.099420841407525717415;-0.29826252422257715224;0.49710420703762858707;-0.6959458898526800219;0.89478757266773145673;1.0936292554827828916;1.2924709382978341043;-1.4913126211128857612;1.690154303927936974;1.8889959867429886309];
LW3_2 = [-0.16703198021867679546 -0.43431898604857688273 -0.65956975843379528346 -0.025455595189425202218 -0.9246594158198507829 -1.1101614523523031242 0.3591436752724243564 0.12025649695670145856 0.40836823539675476402 -0.7200201486926565142;0.93046750067190753253 0.097732337528384768954 0.39482297078100581089 0.70510357914084675901 -0.43303320153695823436 -0.56947659699165542602 -0.35952721706258178314 0.42709697039775568195 0.81109282685132721991 0.74737116541664239122;0.66952587307857491794 1.0294823286941798823 0.26766399285101438732 -0.31554730900081451317 -0.52030459393759831421 0.47305994925033845178 -0.77625545551944830081 0.16492695992842465458 0.66812377212389117975 0.56420525126942744354;-0.039839069879201806368 0.13690834254542935677 0.25158080624497219935 -0.14037324680059923288 -0.46739239125148207554 0.61571235789032252583 -0.06782333487353561785 -1.3164875081603084617 -0.042902726222837687942 1.0619980597082236962;0.82155410637354642223 -0.3531929841286580718 0.33415951334984511645 0.96543890847329527638 -0.72432551778249787411 0.78687829733542136168 -0.28646922448421419105 -0.11136505084355040329 0.53475616190050023757 -0.44790477056284899726;-0.80077739281418047756 0.26395150132258921039 -0.99959880090517061468 -1.0112129470428190547 -0.33580048696752240467 0.18212121456480709347 0.63653621871609133986 0.32322858132779314078 -0.18326913959181850844 0.38271251365332398242;-0.21498287527328766022 -0.27238262984929295651 -0.29554662817492516336 0.92438623094156835425 -0.7394598851219196245 -0.83908763298820365772 0.54783176164882940729 0.041440685343460174905 0.92209491701381063322 0.32108131034495701606;0.77013804544708241995 0.4622554836354088037 -0.087689070956160117265 -0.56007990611839586492 0.6922816791755908028 0.76182738887265044614 0.3036756217129035762 -0.23010517246130351987 0.87937851527770749538 -0.67972456320588192646;0.78935236306650247151 -0.16278718918155643536 -0.48986891997513426489 0.3159730599841156784 -0.76709471298443276943 0.56791119409941037688 -0.69293142070361213314 0.8264871360089554031 0.68849091945175122653 -0.17523234139640533891;0.47203431602376128007 -0.016918600671100469252 0.47528547601754633778 0.1910460176672846011 0.95046176869433918188 -0.47309327791377675521 -1.0574415765925675448 0.72832270308346613863 -0.24558545510654142263 -0.49665345256892440284;0.3552274580910912416 0.58458402213070459474 1.0691949266908948868 0.52565585494527466981 -0.30312381953967743042 0.13106914095573066192 0.1796309939163395486 1.0478915783443003562 -0.13585686020300957733 0.650403438514322918;-0.30830394786398673812 0.93002208497884586436 -0.42984578713536014671 -0.27341506004430971011 -0.8904092751273501305 0.95371332769918626404 -0.39185410216973104447 -0.25076681768229169833 -0.49834908822900975123 -0.42615373129522615692;0.92165849322892789974 -0.36408521636249213671 0.48838672841711477934 0.25424010624259596458 -0.33318507964339366678 0.45589234940745160252 0.92880805859883708298 0.19697012074923825331 0.60120305152957920214 0.83747054157167155619;-0.62728182558601208729 0.56472051598798889138 -0.60556778767473151692 0.52016469111565555306 0.39447506025280393294 0.56667046226119210939 0.80394786992197042608 0.62281259348429529599 0.64000655113477333824 0.5459563728717166109;0.44390553062910909077 0.46024380391515790079 0.64823327956063037103 -0.92548921228536096262 0.56729984316439707737 -0.12848172965621024177 -0.41078231885497379361 0.83454457081030308796 0.7964464969182040166 -0.21171265541601880233;0.34145496222135762743 1.0587304766113081467 -0.84245904269625115912 -0.97003649746886322358 0.10468057457531072807 -0.06847701012161255818 0.70124508612258018569 0.39270870252894068964 0.1358685502874184825 -0.0048884699784887400073;0.66622882987061848858 -0.93604916749329103443 0.17639887540692841816 0.9494962442253351842 0.37240492380396067462 0.12141312835463752284 0.79213336109416254693 -0.58638094840692966958 0.19771390607744257495 0.38956644759652586663;-0.25951474348215519683 -0.36517324047433280532 -0.34147703973966830882 0.3861413241079719727 1.0042835811534529533 -0.58912172179016031315 0.24882165743866105356 0.392522331491634624 -0.89582839120974122604 0.85308283920599836669;0.46776360707669378813 0.30455076202296449406 0.57437227652063405081 -0.50322655010744266058 -0.83360161924866227334 0.46625869233570838013 0.71902755939798856932 -0.8012846838406288974 0.74841793210516727175 0.20526909603698104134;0.97518109200887803656 -0.63562801645967004216 0.01099858357886458228 -0.2807513546890527123 -0.57116347045109561176 0.01130981861245562714 1.2908476521466440978 -0.271338256327024685 -0.14430871822646498814 0.21741589150867282609];

% Layer 4
b4 = 0.31506108419182199398;
LW4_3 = [-0.3479156581544173843 -0.087150798296506071239 0.4275911664662690459 0.76881009055198989977 0.44171134163386294169 -0.96277445054722776696 0.34955293425657152362 -0.1229823515269743428 -0.12435964166745994142 -0.76592636098868438488 0.62936337903716443876 -0.35028912273898193952 -0.50754377153071716933 -0.31457355775344097992 -0.24861571998082343526 0.09310758616591785497 0.12384030853195349131 -0.20835554275199807961 -0.20373824093732828544 0.030734438423144716523];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = 0.499999999999931;
y1_step1.xoffset = -2.00000000000028;

% ===== SIMULATION ========

% Format Input Arguments
isCellX = iscell(X);
if ~isCellX
  X = {X};
end

% Dimensions
TS = size(X,2); % timesteps
if ~isempty(X)
  Q = size(X{1},2); % samples/series
else
  Q = 0;
end

% Allocate Outputs
Y = cell(1,TS);

% Time loop
for ts=1:TS

    % Input 1
    Xp1 = mapminmax_apply(X{1,ts},x1_step1);
    
    % Layer 1
    a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*Xp1);
    
    % Layer 2
    a2 = tansig_apply(repmat(b2,1,Q) + LW2_1*a1);
    
    % Layer 3
    a3 = tansig_apply(repmat(b3,1,Q) + LW3_2*a2);
    
    % Layer 4
    a4 = repmat(b4,1,Q) + LW4_3*a3;
    
    % Output 1
    Y{1,ts} = mapminmax_reverse(a4,y1_step1);
end

% Final Delay States
Xf = cell(1,0);
Af = cell(4,0);

% Format Output Arguments
if ~isCellX
  Y = cell2mat(Y);
end
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
  y = bsxfun(@minus,x,settings.xoffset);
  y = bsxfun(@times,y,settings.gain);
  y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
  x = bsxfun(@minus,y,settings.ymin);
  x = bsxfun(@rdivide,x,settings.gain);
  x = bsxfun(@plus,x,settings.xoffset);
end
